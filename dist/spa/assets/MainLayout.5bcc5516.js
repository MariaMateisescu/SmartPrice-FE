import{bB as q,bC as E,bD as O,a3 as d,b8 as m,at as j,bE as Q,bF as K,y as $,bG as G,aC as J,bH as W,ap as C,am as X,_ as Y,ae as Z,bI as ee,bJ as te,bK as ae,aS as oe,o as f,a4 as b,bd as r,ac as o,bL as _,a5 as k,ab as w,N as S,c as z,bM as re,bf as B,bN as I}from"./index.d0d3c498.js";import{Q as se,a as ne,b as le,c as ue,d as ie}from"./QLayout.3040edf7.js";import{Q as V,a as ce}from"./QItemSection.4b8a4465.js";import{Q as de}from"./QSeparator.63b70fdc.js";import{Q as fe}from"./QList.607348db.js";import{Q as me}from"./QMenu.80c4b836.js";import{u as ve,a as pe,b as he,Q as be}from"./QTabs.edb8baa4.js";import{Q as ge}from"./QResizeObserver.0ab80c1c.js";import{C as R}from"./ClosePopup.2f1a0cb6.js";import"./QScrollObserver.8b8a0de0.js";import"./use-timeout.2164d507.js";import"./selection.1fbc28c3.js";import"./uid.42677368.js";import"./rtl.b51694b1.js";var g=q({name:"QRouteTab",props:{...E,...ve},emits:pe,setup(e,{slots:s,emit:p}){const l=O({useDisableForRouterLinkProps:!1}),{renderTab:a,$tabs:u}=he(e,s,p,{exact:d(()=>e.exact),...l});return m(()=>`${e.name} | ${e.exact} | ${(l.resolvedLink.value||{}).href}`,()=>{u.verifyRouteModel()}),()=>a(l.linkTag.value,l.linkAttrs.value)}}),ye=q({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:s,emit:p}){const{proxy:{$q:l}}=X(),a=j(K,Q);if(a===Q)return console.error("QFooter needs to be child of QLayout"),Q;const u=$(parseInt(e.heightHint,10)),i=$(!0),h=$(G.value===!0||a.isContainer.value===!0?0:window.innerHeight),y=d(()=>e.reveal===!0||a.view.value.indexOf("F")>-1||l.platform.is.ios&&a.isContainer.value===!0),x=d(()=>a.isContainer.value===!0?a.containerHeight.value:h.value),H=d(()=>{if(e.modelValue!==!0)return 0;if(y.value===!0)return i.value===!0?u.value:0;const t=a.scroll.value.position+x.value+u.value-a.height.value;return t>0?t:0}),L=d(()=>e.modelValue!==!0||y.value===!0&&i.value!==!0),F=d(()=>e.modelValue===!0&&L.value===!0&&e.reveal===!0),M=d(()=>"q-footer q-layout__section--marginal "+(y.value===!0?"fixed":"absolute")+"-bottom"+(e.bordered===!0?" q-footer--bordered":"")+(L.value===!0?" q-footer--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus"+(y.value!==!0?" hidden":""):"")),P=d(()=>{const t=a.rows.value.bottom,n={};return t[0]==="l"&&a.left.space===!0&&(n[l.lang.rtl===!0?"right":"left"]=`${a.left.size}px`),t[2]==="r"&&a.right.space===!0&&(n[l.lang.rtl===!0?"left":"right"]=`${a.right.size}px`),n});function c(t,n){a.update("footer",t,n)}function v(t,n){t.value!==n&&(t.value=n)}function D({height:t}){v(u,t),c("size",t)}function N(){if(e.reveal!==!0)return;const{direction:t,position:n,inflectionPoint:A}=a.scroll.value;v(i,t==="up"||n-A<100||a.height.value-x.value-n-u.value<300)}function U(t){F.value===!0&&v(i,!0),p("focusin",t)}m(()=>e.modelValue,t=>{c("space",t),v(i,!0),a.animate()}),m(H,t=>{c("offset",t)}),m(()=>e.reveal,t=>{t===!1&&v(i,e.modelValue)}),m(i,t=>{a.animate(),p("reveal",t)}),m([u,a.scroll,a.height],N),m(()=>l.screen.height,t=>{a.isContainer.value!==!0&&v(h,t)});const T={};return a.instances.footer=T,e.modelValue===!0&&c("size",u.value),c("space",e.modelValue),c("offset",H.value),J(()=>{a.instances.footer===T&&(a.instances.footer=void 0,c("size",0),c("offset",0),c("space",!1))}),()=>{const t=W(s.default,[C(ge,{debounce:0,onResize:D})]);return e.elevated===!0&&t.push(C("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),C("footer",{class:M.value,style:P.value,onFocusin:U},t)}}});const _e=Z({name:"MainLayout",setup(){const e=ee(),s=te();return ae(),{userStore:e,dashHeader:s}},methods:{logout(){localStorage.clear(),this.userStore.authUser=null,this.$router.push("/")}}}),ke={key:2,href:"https://smart-price.s3.us-east-1.amazonaws.com/app-debug.apk",download:""},we={key:3};function Qe(e,s,p,l,a,u){const i=oe("router-view");return f(),b(se,{view:"lHh Lpr lFf"},{default:r(()=>[o(ue,{elevated:"",class:"header"},{default:r(()=>[o(ne,null,{default:r(()=>[e.dashHeader.showBackIcon&&!e.dashHeader.backIconTo?(f(),b(_,{key:0,name:"arrow_back_ios",onClick:s[0]||(s[0]=h=>e.$router.go(-1)),style:{"margin-left":"10px","font-size":"25px"}})):k("",!0),e.dashHeader.showBackIcon&&e.dashHeader.backIconTo?(f(),b(_,{key:1,name:"arrow_back_ios",onClick:s[1]||(s[1]=h=>e.$router.push(`${e.dashHeader.backIconTo}`)),style:{"margin-left":"10px","font-size":"25px"}})):k("",!0),o(le,null,{default:r(()=>[w(S(e.dashHeader.title),1)]),_:1}),this.$q.platform.is.cordova?k("",!0):(f(),z("a",ke,[o(_,{name:"install_mobile",size:"24px",class:"q-mr-sm download-apk"})])),e.userStore.authUser?(f(),z("div",we,[o(re,{color:"brown-3","text-color":"white"},{default:r(()=>[w(S(e.userStore.authUser.name[0]),1)]),_:1}),o(me,{offset:[0,10]},{default:r(()=>[o(fe,{style:{"min-width":"120px"}},{default:r(()=>[B((f(),b(V,{clickable:"",class:"account__settings"},{default:r(()=>[o(_,{name:"person",style:{color:"#00838f"},size:"24px"}),o(I,{style:{color:"#00838f"},flat:"",padding:"none",onClick:s[2]||(s[2]=h=>e.$router.push("/profile"))},{default:r(()=>[w("Account")]),_:1})]),_:1})),[[R]]),o(de),B((f(),b(V,{clickable:""},{default:r(()=>[o(ce,null,{default:r(()=>[o(I,{icon:"logout",style:{color:"#00838f"},flat:"",padding:"none",onClick:e.logout},{default:r(()=>[w("Logout")]),_:1},8,["onClick"])]),_:1})]),_:1})),[[R]])]),_:1})]),_:1})])):k("",!0)]),_:1})]),_:1}),o(ie,{class:"q-page-container__style"},{default:r(()=>[o(i)]),_:1}),o(ye,{bordered:"",class:"bg-white text-primary"},{default:r(()=>[o(be,{"no-caps":"","active-color":"white",class:"text-white shadow-2",style:{"background-color":"#00838f"},align:"justify"},{default:r(()=>[o(g,{style:{"background-color":"#00838f",color:"#fff"},name:"map",icon:"map",to:"/",exact:""}),o(g,{style:{"background-color":"#00838f",color:"#fff"},name:"inspo",icon:"menu_book",to:"/inspiration",exact:""}),o(g,{style:{"background-color":"#00838f",color:"#fff"},name:"cart",icon:"shopping_basket",to:"/shopping",exact:""}),o(g,{style:{"background-color":"#00838f",color:"#fff"},name:"insights",icon:"bar_chart",to:"/insights",exact:""}),o(g,{style:{"background-color":"#00838f",color:"#fff"},name:"account",icon:"style",to:"/fidelity",exact:""})]),_:1})]),_:1})]),_:1})}var Me=Y(_e,[["render",Qe],["__scopeId","data-v-7507e3bc"]]);export{Me as default};
